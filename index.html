<!doctype html>
<html lang="en">
<head>
    <!-- meta tags, links to css, etc. -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Magnet Mayhem</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Oswald:wght@200..700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="assets/css/styles.css">
</head>
<body>

    <!-- visible content goes here -->
	<div class="container-fluid">
        <div class="stuff">
            <div class="row">
                <img class="logo col-sm-4 col-md-6 col-lg-3 img-fluid medium-image" src="assets/img/logo.svg" alt="Magnet Mayhem logo">
                <h2>Click anywhere to generate a unique (nonsensical) magnet poem!</h2>
                <br>
                <div class="words">
                    </div>
            </div>
        </div>
    </div>

    <!-- load javascript after the page elements render -->
<script type="module">
    import { faker } from 'https://esm.sh/@faker-js/faker';
    let wordsEle = document.querySelector(".words");

    let verbs = "";
    let nouns = "";
    const pros = ["me", "us", "them", "him", "her", "it"];
    let advs = "";
    let adjs = "";
    const conjs = ["and", "but", "or"];
    let preps = "";
    const arts = ["a", "an", "the"];
    const puncs = [".", "!", "?"];

    function getNoun() {
    let str = "";
    let lMargin = 4 * Math.random() + 2;
    let noun = faker.word.noun();
    str += `<span style="margin-left:${lMargin}rem">${noun}</span>`;
    console.log(noun);
    return str;
    }

    function getVerb() {
    let str = "";
    let lMargin = 4 * Math.random() + 2;
    let verb = faker.word.verb();
    str += `<span style="margin-left:${lMargin}rem">${verb}</span>`;
    console.log(verb);
    return str;
    }

    function getPro() {
    let str = "";
    for (let i = 0; i < 1; i++) {
        let lMargin = 4 * Math.random() + 2;
        let pro = pros[Math.floor(Math.random() * pros.length)];
    str += `<span style="margin-left:${lMargin}rem">${pro}</span>`;
    console.log(pro);
    }
    return str;
    }

    function getAdv() {
    let str = "";
    let lMargin = 4 * Math.random() + 2;
    let adv = faker.word.adverb();
    str += `<span style="margin-left:${lMargin}rem">${adv}</span>`;
    console.log(adv);
    return str;
    }

    function getAdj() {
    let str = "";
    let lMargin = 4 * Math.random() + 2;
    let adj = faker.word.adjective();
    str += `<span style="margin-left:${lMargin}rem">${adj}</span>`;
    console.log(adj);
    return str;
    }

    function getConj() {
    let str = "";
    for (let i = 0; i < 1; i++) {
        let lMargin = 4 * Math.random() + 2;
        let conj = conjs[Math.floor(Math.random() * conjs.length)];
    str += `<span style="margin-left:${lMargin}rem">${conj}</span>`;
    console.log(conj);
    }
    return str;
    }

    function getPrep() {
    let str = "";
    let lMargin = 4 * Math.random() + 2;
    let prep = faker.word.preposition();
    str += `<span style="margin-left:${lMargin}rem">${prep}</span>`;
    console.log(prep);
    return str;
    }

    function getArt() {
    let str = "";
    for (let i = 0; i < 1; i++) {
        let lMargin = 4 * Math.random() + 2;
        let art = arts[Math.floor(Math.random() * arts.length)];
    str += `<span style="margin-left:${lMargin}rem">${art}</span>`;
    console.log(art);
    }
    return str;
    }

    function getPunc() {
    let str = "";
    for (let i = 0; i < 1; i++) {
        let lMargin = 4 * Math.random() + 2;
        let punc = puncs[Math.floor(Math.random() * puncs.length)];
    str += `<span style="margin-left:${lMargin}rem">${punc}</span>`;
    console.log(punc);
    }
    return str;
    }

    function generate() {
    let str = "";
    str += getVerb();
    str += getPro();
    str += `<br>`
    str += getAdv();
    str += getAdj();
    str += getConj();
    str += getAdj();
    str += `<br>`;
    str += getVerb();
    str += getPrep();
    str += getPro();
    str += `<br>`;
    str += getVerb();
    str += getArt();
    str += getNoun()
    str += getPunc();
    wordsEle.innerHTML = str;
    }



    //adjust tilt
function randomNumber(min, max){
    return Math.floor(Math.random() * (max - min) + 1) + min;
}

let rotation = 0;
    document.addEventListener("click", function () {
    let min = -10;
    let max = 10;
    rotation += Math.floor(Math.random() * (max - min + 1)) +
    min;
    document.body.style.transform = `rotate(${rotation}deg)`;
});


let divs = document.querySelectorAll(".words");
function randomize(){
    divs.forEach(function(div){
    let rotate = randomNumber(-8, 8);
    div.style.transform =
    `rotate(${rotate}deg)`;
})
}
randomize();

    //listeners - event listeners for page loading/clicks
    window.addEventListener("load", generate);
    document.addEventListener("click", generate);
    window.addEventListener("load", randomize); 
    document.addEventListener("click", randomize); 

    </script>
    </body>
</html>